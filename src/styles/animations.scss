// Light 风格动画库
// 定义呼吸灯、充能、边缘流光等关键帧动画

// ========== 呼吸灯动画 ==========
// 用于静止状态的持续提示（如录音中、系统正常）
@keyframes breathing {
  0%, 100% {
    opacity: 1;
    box-shadow:
      0 0 5px currentColor,
      0 0 10px currentColor,
      0 0 20px currentColor;
  }
  50% {
    opacity: 0.6;
    box-shadow:
      0 0 3px currentColor,
      0 0 6px currentColor,
      0 0 12px currentColor;
  }
}

// ========== 脉冲闪光 ==========
// 快速的单次闪光效果（如按钮点击）
@keyframes pulse-flash {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
    box-shadow:
      0 0 20px currentColor,
      0 0 40px currentColor,
      0 0 60px currentColor;
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

// ========== 边框旋转 ==========
// 配合 border-flow 混合器使用
@keyframes border-rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

// ========== 波纹扩散 ==========
// 点击时的波纹效果
@keyframes ripple-out {
  0% {
    width: 0;
    height: 0;
    opacity: 0.6;
  }
  100% {
    width: 300%;
    height: 300%;
    opacity: 0;
  }
}

// ========== 辉光脉冲 ==========
// 持续的外发光强度变化
@keyframes glow-pulse {
  0%, 100% {
    box-shadow:
      0 0 5px var(--glow-color, #00ffcc),
      0 0 10px var(--glow-color, #00ffcc),
      0 0 20px var(--glow-color, #00ffcc);
  }
  50% {
    box-shadow:
      0 0 10px var(--glow-color, #00ffcc),
      0 0 20px var(--glow-color, #00ffcc),
      0 0 40px var(--glow-color, #00ffcc),
      0 0 60px var(--glow-color, #00ffcc);
  }
}

// ========== 充能动画 ==========
// 从暗到亮的充能过程
@keyframes charge-up {
  0% {
    opacity: 0.3;
    box-shadow: 0 0 5px currentColor;
  }
  50% {
    opacity: 0.8;
    box-shadow:
      0 0 10px currentColor,
      0 0 20px currentColor;
  }
  100% {
    opacity: 1;
    box-shadow:
      0 0 15px currentColor,
      0 0 30px currentColor,
      0 0 45px currentColor;
  }
}

// ========== 故障闪烁 ==========
// 赛博朋克风格的随机闪烁
@keyframes glitch-flicker {
  0%, 100% {
    opacity: 1;
  }
  5%, 15%, 25%, 35%, 45% {
    opacity: 0.4;
  }
  10%, 20%, 30%, 40% {
    opacity: 1;
  }
}

// ========== 光线扫描 ==========
// 从左到右的扫描光束
@keyframes scan-line {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

// ========== 能量流动 ==========
// 沿路径流动的能量光点
@keyframes energy-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

// ========== 浮动动画 ==========
// 轻微的上下浮动效果
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

// ========== 旋转辉光 ==========
// 旋转的光晕效果
@keyframes rotate-glow {
  0% {
    transform: rotate(0deg);
    filter: hue-rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
    filter: hue-rotate(360deg);
  }
}

// ========== 渐显发光 ==========
// 进入页面时的渐显 + 发光增强
@keyframes glow-fade-in {
  0% {
    opacity: 0;
    transform: translateY(20px);
    box-shadow: none;
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    box-shadow:
      0 0 10px var(--glow-color, rgba(0, 255, 204, 0.3)),
      0 0 20px var(--glow-color, rgba(0, 255, 204, 0.2));
  }
}

// ========== 数据加载 ==========
// 数据流入效果
@keyframes data-stream {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100%;
  }
}

// ========== 工具类：直接应用动画 ==========
.breathing {
  animation: breathing 2s ease-in-out infinite;
}

.pulse-flash {
  animation: pulse-flash 0.6s ease-out;
}

.glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.charge-up {
  animation: charge-up 1s ease-out forwards;
}

.glitch-flicker {
  animation: glitch-flicker 2s linear infinite;
}

.float {
  animation: float 3s ease-in-out infinite;
}

// ========== 过渡类：配合 Vue Transition ==========
.glow-fade-enter-active {
  animation: glow-fade-in 0.5s ease-out;
}

.glow-fade-leave-active {
  animation: glow-fade-in 0.3s ease-in reverse;
}

// ========== 性能优化：减少动画 ==========
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
